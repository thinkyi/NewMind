@model List<ThinkYi.Domain.ProductType>
<div class="probox">
    <div class="protop"><h3>产品分类</h3></div>
    <div class="promid">
        <div class="prolist">
            <ul>
                @{
                    var parentTypes = Model.Where(p => p.ParentTypeID == 0).ToList();
                    foreach (var pt in parentTypes)
                    {
                        int ptid = pt.ProductTypeID;
                        var childTypes = Model.Where(p => p.ParentTypeID == ptid).ToList();
                        int count = childTypes.Count;
                        <li>
                            <a href="#">@pt.Text</a>
                            <ul>
                                <li>
                                    @for (int i = 0; i < count; i++)
                                    {
                                        <span>@childTypes[i].Text</span>
                                        if (i < count - 1)
                                        {
                                            <span>·</span>
                                        }
                                    }

                                </li>
                            </ul>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>
</div>